<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #loadBox{
            display: none;
        }
    </style>
</head>
<body>
    <ul>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
        <li>研究一下上拉加载</li>
    </ul>
    <p id='loadBox'>加载中，请稍后。。。</p>
    <script>
        window.onscroll = function () {
            var scrollH = document.documentElement.scrollHeight;// 文档的完整高度
            var scrollT = document.documentElement.scrollTop || document.body.scrollTop; // 当前滚动条的垂直偏移
            var screenH = window.screen.height;  // 屏幕可视高度
            var loadBox = document.getElementById('loadBox');
            var isload  = false;
            if ((scrollH - scrollT - screenH) < 5) { //5只是一个相对值，可以让页面再接近底面的时候就开始请求
                // 执行请求
                if(!isload){
                    loadBox.style.display = 'block';
                    isload = true;
                    console.log('ajax')
                    setTimeout(function(){
                        isload = false;
                        loadBox.style.display = 'none';
                    },3000)
                }
                
            }
            function addCon(){
                var lis = ''
            }
        };
    </script>
</body>
</html>